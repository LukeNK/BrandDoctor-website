<div id="nav-logo">
    <a href="/trang-chu/">
        <img src="/asset/image/logo_blue_cut.png" loading="eager" alt="Logo">
    </a>
</div>
<div id="nav-center">
    <!-- Footer copy its list from here (based on id) -->
    <a href="/ve-chung-toi/">Về chúng tôi</a>
    <!-- <a href="">Giải pháp</a> -->
    <a href="/tin-tuc/">Tin tức</a>
    <!-- <a href="">ecosBDG</a> -->
    <a href="/du-an/">Dự án</a>
    <!-- <a href="">Sự nghiệp</a>
    <a href="">Đào tạo</a> -->
    <a href="/lien-he/">Liên hệ</a>
</div>
<div id="nav-lang">
    <span>
        <!-- Space for language, auto by the script -->
    </span>
    <ul style="display: none;">
        <!--
            Language menu will be composed page-by-page by dev/build.js
            Leave one tag here as an example, but if you want to edit
            please edit it in the build script dev/build.js:onTranslationBuild()
        -->
        <!-- <li lang="vi"><a>Tiếng Việt</a></li> -->
        <!-- <li><a href="#" onclick="langList.display = 'none';"></a></li> -->
    </ul>
</div>

<!-- Script only work when build -->
<script>
    // Find nav links to highlight
    let curPage = '/' + document.location.pathname.split('/')[1] + '/',
        anchors = [...document.querySelectorAll('#nav-center > a')];

    for (const link of anchors)
        if (link.getAttribute('href') == curPage) {
            link.classList.add('selected')
            break;
        }

    // handle language selection
    const langToFlag = {
        // list of flag representing each language
        vi: 'vn',
        en: 'gb',
        fr: 'fr'
    }

    // hangle icon
    let langList = document.querySelector('#nav-lang ul');
    [...langList.children].forEach(elm => {
        let flag = langToFlag[elm.getAttribute('lang')];
        if (!flag) return; // skip no language
        // add to the anchor itself
        elm.firstChild.innerHTML =
            `<span class="fi fi-${flag}"></span>`
            + elm.innerHTML
    });

    // first element is the button to pop-up selection
    let langBtn = document.querySelector('#nav-lang *');
    // set language from the <html> lang attr
    langBtn.innerHTML =
        `<span class="fi fi-${
            langToFlag[document.querySelector('html').getAttribute('lang')]
        }"></span>`;
    // open pop-up
    langBtn.onclick = () => {
       langList.style.display = langList.style.display? '' : 'none';
    }
</script>